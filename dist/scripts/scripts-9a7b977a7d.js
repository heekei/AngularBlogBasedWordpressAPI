"use strict";angular.module("blogOnAngularJsApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ui.router","PostPageModule","PagesModule","CategoriesModule","treeControl","ui.bootstrap","angular-loading-bar"]).config(["$stateProvider","$urlRouterProvider","cfpLoadingBarProvider",function(e,t,r){r.spinnerTemplate='<div><span class="fa fa-spinner"><div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div></div>',t.when("","/").when("/post","/").otherwise("/NotFound"),e.state("home",{url:"/",controller:["$state",function(e){e.go("page",{pageid:1},{location:!1})}]}).state("category",{url:"/category?cid&pageid",templateUrl:"views/pages.html",controller:"CategoriesController"}).state("page",{url:"/page?pageid",templateUrl:"views/pages.html",controller:"PagesController"}).state("post",{url:"/post/{pid}",templateUrl:"views/post_tpl.html",controller:"postView"})}]).directive("getPosts",["$http","$sce",function(e,t){return{restrict:"E",replace:!0,templateUrl:"views/get_posts_tpl.html",compile:function(){return function(t,r,n){console.log(n.$attr["page-num"]),e({url:"http://heekei.cn/wp-json/wp/v2/posts?page="+(n.$attr["page-num"]?n.$attr["page-num"]:1),method:"GET",cache:!0}).then(function(e){t.data=e.data})}}}}]).directive("navbarDir",function(){return{restrict:"E",replace:!0,templateUrl:"views/navbar_tpl.html",controller:["$scope",function(e){e.treeOptions={nodeChildren:"children",dirSelectable:!0,injectClasses:{ul:"a1",li:"a2",liSelected:"a7",iExpanded:"a3",iCollapsed:"a4",iLeaf:"a5",label:"a6",labelSelected:"a8"}},e.dataForTheTree=[{name:"Joe",age:"21",children:[{name:"Smith",age:"42",children:[]},{name:"Gary",age:"21",children:[{name:"Jenifer",age:"23",children:[{name:"Dani",age:"32",children:[]},{name:"Max",age:"34",children:[]}]}]}]},{name:"Albert",age:"33",children:[]},{name:"Ron",age:"29",children:[]}]}]}}).directive("footerDir",function(){return{restrict:"E",replace:!0,templateUrl:"views/footer_tpl.html"}}),angular.module("ApiModule",[]).service("get_pages_by_cateid",["$http",function(e){return function(t,r,n){e({url:"http://heekei.cn/wp-json/wp/v2/posts?categories="+t+"&page="+(r?r:1),method:"GET",cache:!0}).then(function(e){n(e.data)},function(e){console.error(e)})}}]).service("get_pages",["$http",function(e){return function(t,r){e({url:"http://heekei.cn/wp-json/wp/v2/posts?page="+t,method:"GET",cache:!0}).then(function(e){r(e.data)},function(e){console.error(e)})}}]).service("get_post",["$http",function(e){return function(t,r){e({url:"http://heekei.cn/wp-json/wp/v2/posts/"+t,method:"GET",cache:!0}).then(function(n){n=n.data,e({url:"http://heekei.cn/api/get_post/?id="+t,method:"GET",ignoreLoadingBar:!0,cache:!0}).then(function(e){return e=e.data,n.previous_url=e.previous_url,n.next_url=e.next_url,r(n)},function(e){console.error(e)})})}}]).directive("getCategoriesByPid",function(){return{restrict:"E",templateUrl:"views/category_tpl.html",controller:["$scope","$http",function(e,t){t({url:"http://heekei.cn/wp-json/wp/v2/categories?post="+e.pid,method:"GET",ignoreLoadingBar:!0,cache:!0}).then(function(t){e.categories=t.data},function(e){console.error(e)})}]}}),angular.module("CategoriesModule",["ApiModule"]).controller("CategoriesController",["$stateParams","$scope","get_pages_by_cateid",function(e,t,r){t.caller="category",t.cid=e.cid,t.pageid=e.pageid||1,r(t.cid,t.pageid,function(e){t.data=e})}]),angular.module("PostPageModule",["ApiModule"]).controller("postView",["$stateParams","$scope","get_post",function(e,t,r){t.pid=e.pid,t.pageid=e.pageid||1,r(t.pid,function(e){if(t.article=e,e.previous_url){var r=e.previous_url.toString().lastIndexOf("/")+1,n=e.previous_url.length-5;t.prevUrl=e.previous_url.toString().substr(r,n-r)}if(e.next_url){var o=e.next_url.toString().lastIndexOf("/")+1,a=e.next_url.length-5;t.nextUrl=e.next_url.toString().substr(o,a-o)}})}]),angular.module("PagesModule",["ApiModule"]).controller("PagesController",["$stateParams","$scope","get_pages",function(e,t,r){t.caller="page",t.pageid=e.pageid||1,r(t.pageid,function(e){t.data=e})}]);